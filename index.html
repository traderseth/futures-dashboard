<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Futures Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
          body { background-color: #111827; }
          @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-33.33%); } }
          .animate-scroll { animation: scroll 25s linear infinite; }
        </style>
  </head>
  <body class="min-h-screen text-white p-5">
      <div id="app"></div>div>
      <script>
            const FUTURES = [
              { symbol: 'DX=F', name: 'US Dollar', color: '#22c55e', url: 'https://www.investing.com/currencies/us-dollar-index', base: 104.25 },
              { symbol: 'SIH26.CMX', name: 'Silver', color: '#a1a1aa', url: 'https://www.investing.com/commodities/silver', base: 84.12 },
              { symbol: 'CL=F', name: 'Crude Oil', color: '#f97316', url: 'https://www.investing.com/commodities/crude-oil', base: 72.45 },
              { symbol: 'GC=F', name: 'Gold', color: '#eab308', url: 'https://www.investing.com/commodities/gold', base: 2045.30 },
              { symbol: 'ES=F', name: 'S&P 500', color: '#3b82f6', url: 'https://www.investing.com/indices/us-spx-500-futures', base: 5125.50 },
                  ];
            const NEWS_ITEMS = [
              { title: "Gold futures rally on safe-haven demand", source: "Kitco", time: 2, cat: "commodities" },
              { title: "Iran oil exports face new scrutiny amid sanctions", source: "Reuters", time: 5, cat: "iran" },
              { title: "Congress faces deadline on government funding bill", source: "AP", time: 3, cat: "shutdown" },
              { title: "Silver outperforms gold in early trading", source: "Reuters", time: 8, cat: "commodities" },
              { title: "OPEC+ considers response to Iran production levels", source: "Bloomberg", time: 15, cat: "iran" },
              { title: "House Republicans debate spending priorities", source: "Politico", time: 12, cat: "shutdown" },
              { title: "Dollar index retreats from highs", source: "FX Street", time: 18, cat: "commodities" },
              { title: "Iran nuclear talks: European diplomats seek new framework", source: "FT", time: 32, cat: "iran" },
              { title: "Senate leaders discuss continuing resolution options", source: "The Hill", time: 28, cat: "shutdown" },
              { title: "Crude oil inventories surprise to downside", source: "EIA", time: 35, cat: "commodities" },
              { title: "Oil prices react to Middle East tensions", source: "CNBC", time: 45, cat: "iran" },
              { title: "Federal agencies prepare contingency plans", source: "WaPo", time: 42, cat: "shutdown" },
              { title: "S&P futures point to higher open", source: "Bloomberg", time: 48, cat: "commodities" },
              { title: "Iran's oil minister comments on production targets", source: "Reuters", time: 60, cat: "iran" },
              { title: "Markets watch shutdown risk with caution", source: "CNBC", time: 55, cat: "shutdown" },
                  ];
            let priceHistory = {};
            let combinedChart = null;
            let tickCount = 0;
            FUTURES.forEach(f => { priceHistory[f.symbol] = []; });
            const formatTime = (mins) => mins < 60 ? mins + 'm ago' : Math.floor(mins / 60) + 'h ago';
            const catColors = { commodities: 'border-yellow-500', iran: 'border-red-500', shutdown: 'border-blue-500' };
            function generatePrices() {
                    const now = Date.now();
                    tickCount++;
                    return FUTURES.map(f => {
                              const timeOfDay = (now % 86400000) / 86400000;
                              const volatility = f.symbol.includes('SI') ? 0.8 : 0.3;
                              const trend = Math.sin(timeOfDay * Math.PI * 2) * volatility;
                              const noise = (Math.random() - 0.5) * volatility * 0.5;
                              const change = trend + noise;
                              const price = f.base * (1 + change / 100);
                              const normalizedChange = ((price - f.base) / f.base) * 100;
                              priceHistory[f.symbol].push({ time: tickCount, price: price, change: normalizedChange });
                              if (priceHistory[f.symbol].length > 30) priceHistory[f.symbol].shift();
                              return { ...f, price, change };
                    });
            }
            function render() {
                    const prices = generatePrices();
                    const tickerItems = [...prices, ...prices, ...prices];
                    const lastUpdate = new Date().toLocaleTimeString();
                    const sortedNews = [...NEWS_ITEMS].sort((a, b) => a.time - b.time);
                    document.getElementById('app').innerHTML = 
                              '<div class="bg-black rounded-lg mb-5 overflow-hidden sticky top-0 z-50">' +
                                '<div class="flex animate-scroll whitespace-nowrap py-4">' +
                                  tickerItems.map(p => '<span class="px-8 font-medium text-lg ' + (p.change >= 0 ? 'text-green-500' : 'text-red-500') + '"><span class="text-gray-400 mr-2">' + p.name + '</span>' + (p.change >= 0 ? '‚ñ≤' : '‚ñº') + ' ' + Math.abs(p.change).toFixed(2) + '%</span>').join('') +
                                '</div>' +
                              '</div>' +
                              '<div class="flex justify-between items-center mb-5 flex-wrap gap-4">' +
                                '<div><h1 class="text-3xl font-bold">Futures Dashboard</h1><p class="text-gray-400 text-base">Live prices, charts & news feeds</p></div>' +
                                '<div class="flex items-center gap-4"><span class="bg-green-500 px-5 py-2 rounded-md text-base">‚óè Live</span><span class="text-gray-500 text-sm">' + lastUpdate + '</span></div>' +
                              '</div>' +
                              '<div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-6">' +
                                prices.map(p => '<a href="' + p.url + '" target="_blank" class="bg-gray-800 rounded-xl p-4 block hover:bg-gray-750 transition" style="border-left: 4px solid ' + p.color + '"><div class="flex justify-between mb-1"><span class="text-gray-400 text-sm">' + p.name + '</span><span class="text-blue-400 text-sm">‚Üó</span></div><div class="text-2xl font-bold">$' + p.price.toFixed(2) + '</div><div class="text-base font-medium ' + (p.change >= 0 ? 'text-green-500' : 'text-red-500') + '">' + (p.change >= 0 ? '‚ñ≤' : '‚ñº') + ' ' + (p.change >= 0 ? '+' : '') + p.change.toFixed(2) + '%</div></a>').join('') +
                              '</div>' +
                              '<div class="bg-gray-800 rounded-xl p-4 mb-8">' +
                                '<div class="flex justify-between items-center mb-4">' +
                                  '<h3 class="text-xl font-bold">Price Movement Comparison (% Change)</h3>' +
                                  '<div class="flex gap-4 text-sm">' + prices.map(p => '<span style="color:' + p.color + '">‚óè ' + p.name + '</span>').join('') + '</div>' +
                                '</div>' +
                                '<canvas id="combined-chart" height="200"></canvas>' +
                              '</div>' +
                              '<div id="feedsSection">' +
                                '<h2 class="text-2xl font-bold mb-4 flex items-center gap-2"><span class="text-green-500">‚óè</span> Live Feeds</h2>' +
                                '<div class="bg-gray-800 rounded-xl overflow-hidden">' +
                                  '<div class="grid grid-cols-3 gap-0 divide-x divide-gray-700">' +
                                    '<div class="p-2"><div class="text-center text-yellow-500 font-semibold pb-2 border-b border-gray-700 mb-2">üìà Commodities</div>' + sortedNews.filter(n => n.cat === 'commodities').map(n => '<div class="p-2 mb-1 bg-gray-700 rounded text-sm border-l-2 ' + catColors[n.cat] + '"><div class="text-white mb-1">' + n.title + '</div><div class="flex justify-between text-xs text-gray-400"><span>' + n.source + '</span><span>' + formatTime(n.time) + '</span></div></div>').join('') + '</div>' +
                                    '<div class="p-2"><div class="text-center text-red-500 font-semibold pb-2 border-b border-gray-700 mb-2">üáÆüá∑ Iran News</div>' + sortedNews.filter(n => n.cat === 'iran').map(n => '<div class="p-2 mb-1 bg-gray-700 rounded text-sm border-l-2 ' + catColors[n.cat] + '"><div class="text-white mb-1">' + n.title + '</div><div class="flex justify-between text-xs text-gray-400"><span>' + n.source + '</span><span>' + formatTime(n.time) + '</span></div></div>').join('') + '</div>' +
                                    '<div class="p-2"><div class="text-center text-blue-500 font-semibold pb-2 border-b border-gray-700 mb-2">üèõÔ∏è Gov Shutdown</div>' + sortedNews.filter(n => n.cat === 'shutdown').map(n => '<div class="p-2 mb-1 bg-gray-700 rounded text-sm border-l-2 ' + catColors[n.cat] + '"><div class="text-white mb-1">' + n.title + '</div><div class="flex justify-between text-xs text-gray-400"><span>' + n.source + '</span><span>' + formatTime(n.time) + '</span></div></div>').join('') + '</div>' +
                                  '</div>' +
                                  '<div class="text-center text-gray-500 text-sm py-2 border-t border-gray-700">Refreshes every 3 minutes | Click prices for live Investing.com data</div>' +
                                '</div>' +
                              '</div>';
                    const canvas = document.getElementById('combined-chart');
                    if (canvas && priceHistory[FUTURES[0].symbol].length > 1) {
                              const ctx = canvas.getContext('2d');
                              if (combinedChart) combinedChart.destroy();
                              const labels = priceHistory[FUTURES[0].symbol].map(p => p.time);
                              const datasets = FUTURES.map(f => ({
                                          label: f.name,
                                          data: priceHistory[f.symbol].map(p => p.change),
                                          borderColor: f.color,
                                          backgroundColor: f.color + '20',
                                          borderWidth: 2,
                                          fill: false,
                                          tension: 0.3,
                                          pointRadius: 0
                              }));
                              combinedChart = new Chart(ctx, {
                                          type: 'line',
                                          data: { labels, datasets },
                                          options: {
                                                        responsive: true,
                                                        maintainAspectRatio: false,
                                                        interaction: { mode: 'index', intersect: false },
                                                        plugins: { legend: { display: false } },
                                                        scales: {
                                                                        x: { display: true, grid: { color: '#374151' }, ticks: { color: '#9ca3af' } },
                                                                        y: { display: true, grid: { color: '#374151' }, ticks: { color: '#9ca3af', callback: function(v) { return v.toFixed(2) + '%'; } } }
                                                        }
                                          }
                              });
                    }
            }
            render();
            setInterval(render, 180000);
      </script>
  </body>body>
</html>html>
      </script>
    </style></title>
  </head>
